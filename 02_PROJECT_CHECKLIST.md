# 02_PROJECT_CHECKLIST.md - Progress Tracking

Status Legend:
- [x] = Selesai
- [-] = Sedang Dikerjakan
- [ ] = Belum Dikerjakan

## Phase 1: Foundation & Master Data
- [x] **Instalasi:** Laravel, Filament v4, Spatie, Shield.
- [x] **Dependencies:** Install Excel, DomPDF, dan Backup manager.
- [x] **User Management:** Setup Role (Owner, Admin Gudang, Produksi, Sales).
- [x] **Master Warehouses:** CRUD Gudang (Pabrik, Pagu, Tanjung, Candi).
- [x] **Master Units:** KG, Ekor, Pack, Karung.
- [x] **Master Activity Logs:** Track perubahan data penting.
    - [x] Field: User, Tipe Aktivitas, Deskripsi, Tanggal & Waktu.
    - [x] Buat fitur membatalkan aktivitas yang dipilih.
    - [x] Pastikan semua modul utama mencatat aktivitas CRUD, Termasuk Import.
    - [x] Cek semua resource yang telah selesai sudah terhubung dengan activity log.
    - [x] Buat filament page untuk melihat activity log dengan filter by user, tanggal, dan tipe aktivitas.
        - [x] Tambahkan fitur export log ke format CSV dan PDF.
        - [x] Di dalam edit page activity log, tambahkan tombol "Revert" untuk mengembalikan data ke kondisi sebelum perubahan.
        - Catatan berikutnya:
            - [x] Lakukan smoke test pada resource dan fitur export untuk memastikan sinkron dengan izin Shield.
            - [x] Integrasikan log ini ke modul produk setelah selesai.
- [x] **Master Product Categories:** CRUD kategori produk.
    - [x] Field: Kode Kategori, Nama Kategori.
    - [x] Seeder default kategori: Hasil Panen, Live Bird, Produk, Umum.
- [x] **Master Products:**
    - [x] Field: Kode (Terdapat Tombol Generate Kode Otomatis),Nama, Tipe, Satuan (KG, Ekor, Pack, Karung).
    - [x] Jenis Produk: Persediaan, Jasa, Non-Persediaan.
    - [x] Import data products.csv untuk modul Produk.
        - [x] Sesuaikan kode produk menjadi unik dengan format P-XXXX.
        - [x] Sesuaikan kategori produk yang ada di products.csv dengan data dari master product categories.
        - [x] Sesuaikan satuan produk yang ada di products.csv dengan data dari master units.
        - Catatan berikutnya:
            - [x] Bangun workflow import dari products.csv dengan mapping kategori & satuan serta validasi format P-XXXX.
            - [x] Tuntaskan smoke test activity log sebelum menutup checklist ini.
- [x] **Master COA (Chart of Accounts):** Struktur Parent-Child & Saldo Awal.
    - [x] Buat fitur Import coa.csv
    - [x] Tipe Akun: Akumulasi Penyusutan, Aset Lainnya, Aset Lancar Lainnya, Aset Tetap, Beban, Beban Lainnya, Beban Pokok Penjualan, Kas & Bank, Liabilitas Jangka Panjang, Liabilitas Jangka Pendek, Modal, Pendapatan, Pendapatan Lainnya, Persediaan, Piutang Usaha, Utang Usaha. 
    - [x] Tipe Akun:
        - Akumulasi Penyusutan
        - Aset Lainnya
        - Aset Lancar Lainnya
        - Aset Tetap
        - Beban
        - Beban Lainnya
        - Beban Pokok Penjualan
        - Kas & Bank
        - Liabilitas Jangka Panjang
        - Liabilitas Jangka Pendek
        - Modal
        - Pendapatan
        - Pendapatan Lainnya
        - Persediaan
        - Piutang Usaha
        - Utang Usaha
- [x] **Master Supplier Categories:** CRUD kategori supplier.
    - [x] Field: Kode Kategori, Nama Kategori.
    - [x] Seeder default kategori: Umum, Bahan Baku, Perlengkapan, Jasa.
- [x] **Master Suppliers:** CRUD supplier lengkap dengan info kontak dan bank.
    - [x] Field: Kode Pemasok, NPWP, Tipe, Nama Supplier, Nama Pemilik, Nomor Kontak (Bisa lebih dari 1), Atas Nama, Nama Bank, Nomor Rekening, Alamat.
    - [x] Import data supplier.csv untuk modul Supplier.
        - [x] Sesuaikan kode supplier menjadi unik dengan format S-XXXX.
        - [x] Sesuaikan tipe supplier yang ada di supplier.csv dengan data dari master supplier categories.
        - Catatan berikutnya:
            - [x] Jalankan smoke test activity log & Shield untuk alur import supplier.
- [x] **Master Customers Categories:** CRUD kategori customer.
    - [x] Field: Kode Kategori, Nama Kategori.
    - [x] Seeder default kategori: Customer Lama, Customer Baru, Retail, MBG, Partai.
- [x] **Master Customers:** CRUD customer lengkap dengan info kontak dan bank.
    - [x] Field: Kode Customer, Nama Customer, Nomor Telepon (Bisa lebih dari 1), Alamat.
    - [x] Import data customer.csv untuk modul Customer.
        - [x] Sesuaikan kode customer menjadi unik dengan format C-XXXX.
        - [x] Sesuaikan tipe customer yang ada di customer.csv dengan data dari master customer categories.
        - Catatan berikutnya:
            - [x] Rancang workflow import: baca CSV, normalisasi kode C-XXXX, mapping kategori & tipe, serta dukung banyak nomor telepon seperti modul Supplier.
            - [x] Tambahkan sample customer melalui seeder untuk validasi activity log & Shield.

- [x] **Super Admin Access:** Pastikan peran `super_admin` memiliki akses penuh dan menu Filament Shield terlihat.

## Phase 2: Purchasing & Inbound (Hulu)
- [x] **Pembelian Ayam Hidup:**
    - [x] **Header Form**
        - [x] Supplier (wajib) menjadi gate bagi seluruh komponen barang & biaya.
        - [x] Alamat kirim otomatis terisi dari supplier dan dapat disimpan ulang saat diedit.
        - [x] Tanggal PO (wajib) dan Tanggal Kirim (opsional) dengan validasi rentang.
        - [x] Gudang tujuan (wajib) untuk memastikan stok masuk gudang yang benar.
        - [x] No. PO auto-generate namun masih bisa diedit bila perlu.
    - [x] **Validasi Konteks**
        - [x] Tidak boleh mencari atau menambahkan barang sebelum memilih supplier.
        - [x] Semua field wajib di header harus terisi sebelum tab detail aktif.
    - [x] **Rincian Barang**
        - [x] Komponen cari barang memunculkan modal detail ketika dipilih.
        - [x] Kolom editable: Nama item, Qty + pilihan satuan (Ekor/Kg), Harga Satuan, Diskon (persen atau nominal, max 100% & <= harga), Checkbox Pajak 11%, Catatan opsional.
        - [x] Subtotal otomatis, tersedia aksi duplikat/baris baru/hapus.
    - [x] **Info Lainnya**
        - [x] Syarat pembayaran dengan preset Manual, Net 7/15/30/45/60, COD default, lengkap dengan deskripsi.
        - [x] Checkbox pajak (Kena vs Termasuk) mengatur cara hitung.
        - [x] Keterangan bebas serta bidang FOB (alamat tujuan + titik pengiriman) opsional.
    - [x] **Biaya Lainnya (Opsional)**
        - [x] Pencarian COA mendukung kode/nama, memunculkan modal biaya.
        - [x] Modal berisi nama biaya editable, nominal, catatan, dan checkbox alokasi (membagi biaya rata terhadap qty).
    - [x] **Ringkasan & Footer**
        - [x] Ringkasan harga: Subtotal, Diskon global (persen/nominal), Pajak (modal untuk memilih DPP 100%, 11/12, 11/12 10%, 40%, 30%, 20%, 10% dan tarif 0%, 10%, 11%, 12%), Total akhir.
        - [x] Panel kanan: Simpan / Simpan Draft, modal dokumen agnostik (multi-file jpg/png/pdf/docx/xlsx, 5MB per file) dengan daftar file + aksi download/hapus.
        - [x] Favorit PO: simpan konfigurasi (header, barang, biaya, info lainnya) dan muat ulang favorit ke form aktif.
    - [x] **Validasi Sebelum Simpan**
        - [x] Minimal satu barang tersimpan.
        - [x] Qty dan harga satuan harus > 0.
        - [x] Diskon tidak boleh negatif atau melampaui harga akhir.
    - [x] **Perhitungan Tambahan**
        - [x] Hitung susut jalan otomatis dari selisih berat kirim vs terima.
    - [x] **Output PO**
        - [x] Membuat tombol Cetak dari tabel & halaman edit yang menampilkan preview fullscreen siap cetak.
        - [x] Membuat view Cetak dokumen terpisah di route /live-chicken-purchase-orders/{purchaseOrderId}/print.
        - [x] View Cetak sudah memuat layout sesuai referensi #contoh-view.html lengkap dengan tombol salin/unduh gambar.
        - [x] Export PO ke PDF dengan layout siap cetak dan daftar lampiran.
- [x] **Penerimaan Barang:**
    - [x] **Validasi PO & Header**
        - [x] Pilih PO yang sudah disetujui (statusnya sudah approved) sebagai sumber penerimaan.
        - [x] Auto-fill supplier, gudang tujuan, dan jadwal kirim dari PO.
        - [x] Izinkan override alamat kirim dengan log perubahan.
    - [x] **Pemeriksaan Kedatangan**
        - [x] Checklist kendaraan, nomor SJ pemasok, dan suhu kedatangan.
        - [x] Catat waktu tiba dan petugas pemeriksa.
        - [x] Upload foto dokumen pendukung (max 5MB per file, multi-upload).
    - [x] **Detail Item Diterima**
        - [x] Repeater item yang ditarik dari PO dengan qty pesan vs qty terima.
        - [x] Field toleransi susut, catatan QC, dan alasan selisih.
        - [x] Aksi split baris untuk pecah batch atau satuan.
    - [x] **Penanganan Selisih & Retur**
        - [x] Tandai item rusak/kurang untuk dibuatkan retur otomatis.
        - [x] Mapping COA biaya klaim atau diskon kredit.
        - [x] Notifikasi ke tim purchasing melalui Filament notification.
    - [x] **Biaya & Dokumen Pendukung**
        - [x] Input biaya bongkar, sewa alat, atau inspeksi dengan COA.
        - [x] Lampirkan dokumen hasil timbang dan foto kondisi barang.
        - [x] Simpan riwayat versi dokumen ketika diedit ulang.
    - [x] **Penyelesaian & Posting**
        - [x] Validasi minimal satu item diterima dan qty > 0.
        - [x] Update status PO (Partial/Complete) secara otomatis.
        - [x] Posting stok masuk ke gudang tujuan dan log aktivitas.
- [x] **Stock In:** Form pencatatan masuk barang ke gudang.
- [ ] **Faktur Pembelian:**
    - [ ] **Header Form**
        - [ ] Pilih PO atau GR sebagai sumber faktur.
        - [ ] Auto-fill supplier, tanggal faktur, dan gudang tujuan.
        - [ ] Input nomor faktur pajak dan tanggal jatuh tempo.
    - [ ] **Validasi Konteks**
        - [ ] Tidak boleh mencari atau menambahkan barang sebelum memilih supplier.
        - [ ] Semua field wajib di header harus terisi sebelum tab detail aktif.
    - [ ] **Rincian Barang**
        - [ ] Komponen cari barang memunculkan modal detail ketika dipilih.
        - [ ] Kolom editable: Nama item, Qty + pilihan satuan (Ekor/Kg), Harga Satuan, Diskon (persen atau nominal, ma  100% & <= harga), Checkbox Pajak 11%, Catatan opsional.
        - [ ] Subtotal otomatis, tersedia aksi duplikat/baris baru/hapus.
    - [ ] **Info Lainnya**
        - [ ] Syarat pembayaran dengan preset Manual, Net 7/15/30/45/60, COD default, lengkap dengan deskripsi.
        - [ ] Pilih Rekening Kas/Bank untuk pembayaran faktur.
        - [ ] Checkbox pajak (Kena vs Termasuk) mengatur cara hitung.
        - [ ] Keterangan bebas serta bidang FOB (alamat tujuan + titik pengiriman) opsional.
    - [ ] **Uang Muka**
        - [ ] Input pembayaran uang muka dengan tanggal, metode, dan akun kas/bank.
        - [ ] Otomatis mengurangi total faktur dengan jumlah uang muka.
    - [ ] **Biaya Lainnya (Opsional)**
        - [ ] Pencarian COA mendukung kode/nama, memunculkan modal biaya.
        - [ ] Modal berisi nama biaya editable, nominal, catatan, dan checkbox alokasi (membagi biaya rata terhadap qty).
    - [ ] **Ringkasan & Footer**
        - [ ] Ringkasan harga: Subtotal, Diskon global (persen/nominal), Pajak (modal untuk memilih DPP 100%, 11/12, 11/12 10%, 40%, 30%, 20%, 10% dan tarif 0%, 10%, 11%, 12%), Total akhir.
        - [ ] Panel kanan: Simpan / Simpan Draft, modal dokumen agnostik (multi-file jpg/png/pdf/docx/xlsx, 5MB per file) dengan daftar file + aksi download/hapus.
        - [ ] Favorit PO: simpan konfigurasi (header, barang, biaya, info lainnya) dan muat ulang favorit ke form aktif.
    - [ ] **Validasi Sebelum Simpan**
        - [ ] Minimal satu barang tersimpan.
        - [ ] Qty dan harga satuan harus > 0.
        - [ ] Diskon tidak boleh negatif atau melampaui harga akhir.
    - [ ] **Output Faktur**
        - [ ] Membuat tombol Cetak dari tabel & halaman edit yang menampilkan preview fullscreen.
        - [ ] Membuat view Cetak dokumen terpisah di route /live-chicken-purchase-orders/{purchaseOrderId}/print.
        - [ ] View Cetak sudah memuat layout sesuai referensi #contoh-view.html lengkap dengan tombol salin/unduh gambar.
        - [ ] Export PO ke PDF dengan layout siap cetak dan daftar lampiran.
## Phase 3: Production (Inti)
- [ ] **Work Order (Penyembelihan):**
    - [ ] **Pra-Produksi & Penjadwalan**
        - [ ] Pilih tanggal proses, shift, dan operator utama.
        - [ ] Autocomplete sumber batch dari PO ayam hidup atau stok kandang.
        - [ ] Validasi gudang sumber dan tujuan sebelum work order dibuat.
    - [ ] **Input Ayam Hidup**
        - [ ] Catat berat datang (Kg) dan jumlah ekor per batch.
        - [ ] Dukung multi-truk dengan toleransi susut masing-masing.
        - [ ] Kunci input ketika work order disetujui supervisor.
    - [ ] **Rincian Pemotongan**
        - [ ] Repeater hasil potong dengan produk, tipe potong, satuan, dan yield target.
        - [ ] Field Qty hasil, berat hasil, grade kualitas, dan catatan QC per baris.
        - [ ] Tombol duplikat baris serta preset template komposisi potong.
    - [ ] **Byproduct & Limbah**
        - [ ] Checklist hasil samping (jeroan, bulu, darah, limbah basah) beserta gudang tujuan.
        - [ ] Mapping COA biaya limbah dan opsi penjualan langsung ke modul hilir.
        - [ ] Catatan sanitasi & disposal khusus jika melebihi ambang.
    - [ ] **Validasi Yield & Susut**
        - [ ] Hitung yield aktual vs target berdasarkan Kg dan ekor.
        - [ ] Terapkan toleransi khusus per jenis produk dengan indikator warna.
        - [ ] Wajib isi alasan bila susut melewati batas.
    - [ ] **Dokumentasi & Output**
        - [ ] Upload foto dokumen proses (jpg/png/pdf) maksimal 5MB per file.
        - [ ] Generate PDF Work Order lengkap dengan tanda tangan digital.
        - [ ] Kirim aktivitas ke Activity Log serta notifikasi Filament.
- [ ] **QC Release & Transfer**
    - [ ] QC checklist suhu inti, tekstur, dan kebersihan area produksi.
    - [ ] Approval QC sebelum stok masuk gudang siap jual.
    - [ ] Transfer otomatis ke stok WIP atau produk jadi setelah approval.
- [ ] **WIP Consumption Tracking**
    - [ ] Catat bahan pembantu (es, plastik, bumbu) yang dipakai selama proses.
    - [ ] Posting biaya ke COA terkait untuk analisa cost per kg.
    - [ ] Sinkronkan konsumsi ke kartu stok WIP dan Activity Log.

## Phase 4: Inventory & Distribution
- [ ] **Penyesuaian Persediaan:** 
    - [ ] **Header Form**
        - [ ] Tanggal penyesuaian (wajib) dengan validasi tidak boleh di masa depan. (default hari ini)
    - [x] **Validasi Konteks**
        - [x] Tidak boleh mencari atau menambahkan barang sebelum menentukan tanggal.
        - [x] Semua field wajib di header harus terisi sebelum tab detail aktif.
    - [ ] **Rincian Barang**
        - [ ] Komponen cari barang memunculkan modal detail ketika dipilih.
        - [ ] Kolom editable: Nama item, Tipe Penyesuaian (Penambahan, Pengurangan, Atur Stok), Kuantitas, Satuan, Gudang Tujuan (Otimatis Terisi Gudang Pagu), Keterangan, Stok Saat Ini (Readable).
        - [ ] Jika Tipe Penyesuaian = Penambahan, Munculkan input Biaya Satuan dan Total Biaya.
    - [ ] **Info Lainnya**
        - [ ] Akun Penyesuaian (wajib) eagerload hanya untuk 3 COA berikut default: 300001 (300001, 8212, 510103).
        - [ ] Keterangan.
    - [ ] **Ringkasan & Footer**
        - [ ] Total Harga Penyesuaian (hanya jika ada penambahan stok dengan biaya).
    - [x] Fondasi `inventory_balances` (tabel + service updater multi-gudang).
- [ ] **Surat Jalan:** Generate PDF Surat Jalan untuk sopir.
- [ ] **Stok Opname & Kartu Stok:** Fitur Export Excel untuk audit stok.

## Phase 5: Sales & Outbound (Hilir)
- [ ] **Penjualan:** Form Order & Cek Stok Realtime.
- [ ] **Invoice:** Generate PDF Tagihan.
- [ ] **Penjualan Limbah:** Form simple Cash.

## Phase 6: Reporting & Dashboard
- [ ] **Laporan Harian Produksi:** Widget Tabel + Tombol "Copy Image".
- [ ] **Laporan Keuangan:** Export Excel untuk Laba Rugi & Neraca.
- [ ] **Backup System:** Setup jadwal backup otomatis (Database & Files).